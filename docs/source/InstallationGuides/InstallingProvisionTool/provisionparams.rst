Input Parameters for Provision Tool
=====================================

Fill in all provision-specific parameters in ``omnia/input/provision_config.yml``

+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                             | Default, Accepted Values                       | Required? | Additional Information                                                                                                                                                                                                                                                                                                                                                                                                                                     |
+==================================+================================================+===========+============================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| public_nic                       | eno2                                           | required  | The NIC/ethernet card that is connected to the public internet.                                                                                                                                                                                                                                                                                                                                                                                            |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| admin_nic                        | eno1                                           | required  | The NIC/ethernet card that is used for shared LAN over Management (LOM)   capability.                                                                                                                                                                                                                                                                                                                                                                      |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| admin_nic_subnet                 | 172.29.0.0                                     | required  | The intended subnet for shared LOM capability. Note that since   the last 16 bits/2 octets of IPv4 are dynamic, please ensure that the   parameter value is set to x.x.0.0. For example, the value set is 172.29.0.0,   IPs will be assigned within the range of 172.29.0.1 to 172.29.255.255.                                                                                                                                                             |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pxe_nic                          | eno1                                           | required  | This NIC used to obtain routing information.                                                                                                                                                                                                                                                                                                                                                                                                               |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pxe_nic_start_range              | 172.29.0.100                                   | required  | The start of the DHCP    range used to assign IPv4 addresses. When the PXE range and BMC subnet   are provided, corresponding NICs will be assigned IPs with the same 3rd and   4th octets. Ensure that these ranges contain enough Ips to be double the   number of iDRACs present in the cluster.                                                                                                                                                        |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pxe_nic_end_range                | 172.29.0.200                                   | required  | The end of the DHCP    range used to assign IPv4 addresses. When the PXE range and BMC subnet   are provided, corresponding NICs will be assigned IPs with the same 3rd and   4th octets.   Ensure that these ranges   contain enough Ips to be double the number of iDRACs present in the cluster.                                                                                                                                                        |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ib_nic_subnet                    |                                                | optional  | If provided, Omnia will assign static IPs to IB NICs on the compute nodes   within the provided subnet. Note that since the last 16 bits/2 octets of IPv4   are dynamic, please ensure that the parameter value is set to x.x.0.0.  When the PXE range and BMC subnet are   provided, corresponding NICs will be assigned IPs with the same 3rd and 4th   octets.  IB nics should be prefixed ib.                                                          |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| bmc_nic_subnet                   |                                                | optional  | If provided, Omnia will assign static IPs to IB NICs on the compute nodes   within the provided subnet. Note that since the last 16 bits/2 octets of IPv4   are dynamic, please ensure that the parameter value is set to x.x.0.0. When   the PXE range and BMC subnet are provided, corresponding NICs will be   assigned IPs with the same 3rd and 4th octets.                                                                                           |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pxe_mapping_file_path            |                                                | optional  | The mapping file consists of the MAC address and its respective IP   address and hostname. If static IPs are required, create a csv file in the   format MAC,Hostname,IP. A sample file is provided here:   omnia/examples/host_mapping_file_os_provisioning.csv. If not provided, ensure   that ``pxe_switch_ip`` is provided.                                                                                                                            |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pxe_switch_ip                    |                                                | optional  | PXE switch that will be connected to all iDRACs for provisioning. This   switch needs to be SNMP-enabled.                                                                                                                                                                                                                                                                                                                                                  |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pxe_switch_snmp_community_string | public                                         | optional  | The SNMP community string used to access statistics, MAC addresses and   IPs stored within a router or other device.                                                                                                                                                                                                                                                                                                                                       |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| node_name                        | node                                           | required  | The intended node name for nodes in the cluster.                                                                                                                                                                                                                                                                                                                                                                                                           |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| domain_name                      |                                                | required  | DNS domain name to be set for iDRAC.                                                                                                                                                                                                                                                                                                                                                                                                                       |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| provision_os                     | rocky, **rhel**                                | required  | The operating system image that will be used for provisioning compute   nodes in the cluster.                                                                                                                                                                                                                                                                                                                                                              |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| iso_file_path                    | /home/RHEL-8.4.0-20210503.1-x86_64-dvd1.iso    | required  | The path where the user places the ISO image that needs to be provisioned   in target nodes.                                                                                                                                                                                                                                                                                                                                                               |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| timezone                         | GMT                                            | required  | The timezone that will be set during provisioning of OS. Available   timezones are provided in provision/roles/xcat/files/timezone.txt.                                                                                                                                                                                                                                                                                                                    |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| language                         | en-US                                          | required  | The language that will be set during provisioning of the OS                                                                                                                                                                                                                                                                                                                                                                                                |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| default_lease_time               | 86400                                          | required  | Default lease time in seconds that will be used by DHCP.                                                                                                                                                                                                                                                                                                                                                                                                   |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| provision_password               |                                                | required  | Password used while deploying OS on bare metal servers. The Length of the   password should be at least 8 characters. The password must not contain -,\,   ',".                                                                                                                                                                                                                                                                                            |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| postgresdb_password              |                                                | required  | Password used to authenticate into the PostGresDB used by xCAT. Only   alphanumeric characters (no special characters) are accepted.                                                                                                                                                                                                                                                                                                                       |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| primary_dns                      |                                                | optional  | The primary DNS host IP queried to provide Internet access to Compute   Node (through DHCP routing)                                                                                                                                                                                                                                                                                                                                                        |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| secondary_dns                    |                                                | optional  | The secondary DNS host IP queried to provide Internet access to Compute   Node (through DHCP routing)                                                                                                                                                                                                                                                                                                                                                      |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| disk_partition                   |  - { mount_point: "",   desired_capacity: "" } | optional  | User defined disk partition applied to remote servers. The disk partition   desired_capacity has to be provided in MB. Valid mount_point values accepted   for disk partition are /home, /var, /tmp, /usr, swap. Default partition size   provided for /boot is 1024MB, /boot/efi is 256MB and the remaining space to /   partition.  Values are accepted in the   form of JSON list such as: , - { mount_point: "/home",   desired_capacity: "102400" },  |
+----------------------------------+------------------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
