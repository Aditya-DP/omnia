Step 4: View node inventory
=================================

When ``discovery_provision.yml``, ``prepare_cp.yml``, or ``utils/inventory_tagging.yml`` is run, a set of inventory files is created in ``/opt/omnia/omnia_inventory/`` based on `the Omnia database. <Provision/ViewingDB.html>`_ The inventories are created based on the type of CPUs and GPUs nodes have. The inventory files are:

      * ``compute_cpu_amd`` ::

            # This file is generated by omnia, and should not be edited
            [compute_cpu_amd]
            ABCD1

      * ``compute_cpu_intel`` ::

            # This file is generated by omnia, and should not be edited
            [compute_cpu_intel]
            ABCD1

      * ``compute_gpu_amd`` ::

           # This file is generated by omnia, and should not be edited
           [compute_gpu_amd]
           ABCD2
           ABCD3

      * ``compute_gpu_nvidia`` ::

            # This file is generated by omnia, and should not be edited
            [compute_gpu_nvidia]
            ABCD1

      * ``compute_hostname_ip`` ::

            # This file is generated by omnia, and should not be edited
            [compute_hostname_ip]
            ABCD1 ansible_host=10.5.0.2
            ABCD2 ansible_host=10.5.0.3
            ABCD3 ansible_host=10.5.0.4

.. note::

    * Hostnames will only be written into the inventory files after the nodes are successfully PXE booted post provisioning.
    * For a node's hostname to list in an inventory file, two conditions must be met:

                * Node status must be "booted" in DB.
                * Node's hostname information is present in DB.
    * To regenerate all the inventory files, use the playbook ``utils/inventory_tagging.yml``.



